"use strict";var Enemy=function(e,t){this.x=e,this.y=t,this.speed=Math.floor(4*Math.random()+2),this.sprite="images/enemy-bug.png"};Enemy.prototype.update=function(e){this.x=this.x+101*this.speed*e,this.y==player.y-18&&this.x>player.x-70&&this.x<player.x+70&&player.lives>=1&&(player.lives-=1,player.reset()),this.x>505&&this.reset()},Enemy.prototype.reset=function(){this.x=-100;var e=[54,137,220];this.y=e[Math.floor(3*Math.random())],this.speed=Math.floor(4*Math.random()+2)},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var Player=function(e,t){this.x=e,this.y=t,this.score=0,this.lives=3,this.sprite="images/char-boy.png"};Player.prototype.update=function(e){this.x=this.x,this.y=this.y,this.y<50&&(this.reset(),this.updateScore(1))},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Player.prototype.reset=function(){this.x=202,this.y=404},Player.prototype.handleInput=function(e){0!==this.lives?(this.y>0&&"up"===e&&(this.y-=83),this.y<404&&"down"===e&&(this.y+=83),this.x>0&&"left"===e&&(this.x-=101),this.x<404&&"right"===e&&(this.x+=101)):this.gameOver()},Player.prototype.updateScore=function(e){this.score+=e,document.getElementById("score").innerHTML="Score: "+this.score},Player.prototype.gameOver=function(){document.getElementById("score").innerHTML="Final Score: "+this.score+"<br> Refresh to restart the game"};for(var allEnemies=[],enemyRow=[54,137,220],i=0;5>i;i++){var x=-100,y=enemyRow[Math.floor(3*Math.random())],enemy=new Enemy(x,y);allEnemies.push(enemy)}var player=new Player(202,404);document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});